import numpy as npimport matplotlib.pyplot as pltimport antpyimport make_all_plotsimport skrf.plotting as skpltimport globimport sysimport argparsedir = sys.argv[1]dbangle_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*L.s2p')realimag_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*S.txt')sim_dbangle_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*dBAngle.txt')sim_realimag_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*Real_Imag.txt')sim_nf_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*Real_Imag_nf.txt')meas_nf_filenames = glob.glob('/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/' + dir + '/*hp8970b_nf.txt')#parser = argparse.s11ylimParser(description='Process the y axis limits for the measured logmag plots')#    parser.add_argument('s11_ylim', type=int, nargs='+', help='an integer for the accumulator')#parser = argparse.ArgumentParser()#parser.add_argument('directory', help='the directory the files are located')#parser.add_argument('s11_ylim', help='the y axis limits for the measured logmag plots')#args = parser.parse_args()#logmag_meas_s11_ylim = [-8,2]#list all filenames#dbangle_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/B3S2_CUT_changed_input_induc&cap_150nH_100pF_L.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/B3S2_CUT_L.txt']#sim_dbangle_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/hirax_balun_v4_cutboard_L3(150nH)_C4(100pF)_50Ohmterm1_final_dBAngle.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/demo_board_ver4_final_470nH_rev1_50Ohmterm1_plusBiasT_combined_s2p_final_dBAngle.txt']#realimag_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/B3S2_CUT_changed_input_induc&cap_150nH_100pF_S.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/B3S2_CUT_S.txt']#sim_realimag_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/hirax_balun_v4_cutboard_L3(150nH)_C4(100pF)_50Ohmterm1_final_Real_Imag.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/demo_board_ver4_final_470nH_rev1_50Ohmterm1_plusBiasT_combined_s2p_final_Real_Imag.txt']#sim_nf_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/hirax_balun_v4_cutboard_L3(150nH)_C4(100pF)_50Ohmterm1_final_Real_Imag_nf.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/demo_board_ver4_final_470nH_rev1_50Ohmterm1_plusBiasT_combined_s2p_final_Real_Imag_nf.txt']#meas_nf_filenames = ['/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/board3_side2_original_design_cutboard_with_foam_060816_nf.txt', '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/board3_side2_original_design_nf_cutboard_with_foam_attempt2_060816_nf.txt']#glob - make a list of all the files in the directory, can use wildcards, glob.glob *.txt#if __name__==, magic python thing to put at the bottom#import sys, sys.argv = directory name# argparse for command line setting limits, set defaults for everything#-----------------------------------#LOGMAG PLOTSs11_ylim = [-8,2]s21_ylim = [10,35]s12_ylim = [-60,-10]s22_ylim = [-15,0]my_label = ['B3S2 rev0','B3S2 rev1'] #put these in the order that the files are inmake_all_plots.plt_logmag_mult(dbangle_filenames, my_label, s11_ylim, s21_ylim, s12_ylim, s22_ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#, title)#, limits = [xmin, xmax, ymin, ymax]) #how to plot the sparam data, don't need it to equal anything because I'm not having the function return anything, still need to get the limits to work, but otherwise it is plotting! and it can plot one set of data if it needs to! This plots all s-parameters#LOGMAG PLOTS MEASURED AND SIMULATEDs11_ylim = [-10,1]s21_ylim = [0,35]s12_ylim = [-60,0]s22_ylim = [-15,0]my_label = ['B3S2 rev0','B3S2 rev1', 'rev0 Sim', 'rev1 Sim'] #put these in the order that the files are inmake_all_plots.plt_logmag_meas_sim_mult(dbangle_filenames, sim_dbangle_filenames, my_label, s11_ylim, s21_ylim, s12_ylim, s22_ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#LOGMAG PLOTS MEASURED AND SIMULATED (400-800MHz)my_label = ['B3S2 rev0','B3S2 rev1', 'rev0 Sim', 'rev1 Sim'] #put these in the order that the files are inlimits = [400,800]#,-10,2]s11_ylim = [-10,5]s21_ylim = [10,25]s12_ylim = [-60,0]s22_ylim = [-15,0]make_all_plots.plt_logmag_meas_sim_mult_freq_range(dbangle_filenames, sim_dbangle_filenames, my_label, limits, s11_ylim, s21_ylim, s12_ylim, s22_ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#SMITH PLOTSmy_label = ['B3S2 rev0','B3S2 rev1'] #put these in the order that the files are inmake_all_plots.plt_smith_mult(realimag_filenames, my_label, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/') #how to plot the smith data, don't need it to equal anything because I'm not having the function return anything, need to figure out how to get 400-800 MHz plots, e.g. the limits need figured out still. It can plot one set of data if it needs to! This plots all s-parameters#SMITH PLOTS MEASURED AND SIMULATEDmy_label = ['B3S2 rev0','B3S2 rev1', 'rev0 Sim', 'rev1 Sim'] #put these in the order that the files are inmake_all_plots.plt_smith_meas_sim_mult(realimag_filenames, sim_realimag_filenames, my_label, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#SMITH PLOTS MEASURED AND SIMULATED (400-800MHz)label = ['B3S2 rev0', 'B3S2 rev1', 'rev0', 'rev1'] #put these in the order that the files are inmake_all_plots.plt_smith_meas_sim_mult_freq_range(realimag_filenames, sim_realimag_filenames, label, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#NOISE FIGURE#the following plots the noise figure for measured and simulated data, this works with one or multiple simulated or measured files.label = ['B3S2 rev0', 'B3S2 rev1', 'rev0', 'rev1'] #put these in the order that the files are inmake_all_plots.plot_nf_meas_and_sim(meas_nf_filenames, sim_nf_filenames, label, xlim = [0,1.6], ylim = [0,1])#the following plots the noise figure for just the measured data, this works with one or multiple measured files.label = ['B3S2 rev0', 'B3S2 rev1'] #put these in the order that the files are inmake_all_plots.plot_nf_no_sim(meas_nf_filenames, label, xlim = [0,1.6], ylim = [0,1])#STABILITY FACTOR, K#the following plots the k stability factor for just the measured data (all frequencies), this works with more than one measured file or just one measured file.title = ['Measured Stability Factor']label = ['B3S2 rev0', 'B3S2 rev1'] #put these in the order that the files are inmake_all_plots.plot_stab_fact_meas(dbangle_filenames, title, label, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#the following plots the k stability factor for the measured and simulated data (all frequencies), this works with more than one file or just one file.title = ['Measured and Simulated Stability Factor, K']label = ['B3S2 rev0', 'B3S2 rev1', 'rev0', 'rev1'] #put these in the order that the files are inylim = [-1,2]make_all_plots.plot_stab_fact_meas_sim(dbangle_filenames, sim_dbangle_filenames, title, label, ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#the following plots the k stability factor for the measured and simulated data (10MHz-1GHz), this works with more than one file or just one file.title = ['Measured and Simulated Stability Factor, K (10MHz-1GHz)']label = ['B3S2 rev0', 'B3S2 rev1', 'rev0', 'rev1'] #put these in the order that the files are inlimits = [10,1000]ylim = [-1,2]make_all_plots.plot_stab_fact_meas_sim_limits(dbangle_filenames, sim_dbangle_filenames, title, label, limits, ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')#the following plots the mu stability factor for the measured datatitle = ['Measured and Simulated Stability Factor, Mu (10MHz-1GHz)']label = ['B3S2 rev0', 'B3S2 rev1', 'rev0', 'rev1'] #put these in the order that the files are inlimits = [10,1000]ylim = [-1,2]make_all_plots.plot_mu_meas_sim_limits(dbangle_filenames, realimag_filenames, sim_dbangle_filenames, sim_realimag_filenames, title, my_label, limits, ylim, dir = '/Users/brittanyjohnstone/Desktop/Research/Kevin/WVU/test_make_all_plots/')